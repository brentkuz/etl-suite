(function(n,t,i){i.CheckDependencies("SaveButtonComponent",arguments);t.component("save-success",{props:["value"],template:'<span v-if="value === true"><img src="/images/icons/success-icon.png" width="25"/><\/span>'})})(jQuery,Vue,app.Util),function(n,t,i){function f(){return n.getJSON(r.ProjectData_GetProjects).done(function(n){return n})}function e(t){return n.get(r.Project_GetTab+t,function(n){return n},"html")}function o(t){return n.getJSON(r.ProjectData_GetProjectInfo+t).done(function(n){return n})}function s(t){return n.post(r.ProjectData_SaveProjectInfo,t).done(function(n){return n})}function h(t){return n.get(r.Project_GetDbConnectionEditTemplate+t,function(n){return n},"html")}var u,r;t.CheckDependencies("ProjectService",arguments);u=t.Config;r=t.Urls;i.ProjectService=app.Services.ProjectService||{GetProjects:f,GetTabTemplate:e,GetProjectInfo:o,SaveProjectInfo:s,GetDbConnectionEditTemplate:h}}(jQuery,app.Util,app.Services),function(n,t,i){t.CheckDependencies("SchemaTreeService",arguments);i.SchemaTreeService=app.Services.SchemaTreeService||{}}(jQuery,app.Util,app.Services),function(n,t,i){function f(t){return n.getJSON(r.DbConnectionData_GetAllDbConnections+t).done(function(n){return n})}var u,r;t.CheckDependencies("ProjectConfigurationService",arguments);u=t.Config;r=t.Urls;i.ProjectConfigurationService=app.Services.DbConnectionService||{GetAllDefinitions:f}}(jQuery,app.Util,app.Services),function(n,t,i){i.CheckDependencies("SchemaTreeApp",arguments);n(function(){})}(jQuery,Vue,app.Util,app.Services.SchemaTreeService),function(n,t,i,r,u){var o="DbConnectionApp",f,e;i.CheckDependencies(o,arguments);f=i.AppModal;e={};app.Initializers.DbConnectionApp=function(n){console.debug(o+" init");var s=i.Notification("#dbConnectionAppNotification"),h=new t({el:"#dbConnectionApp",data:{Definitions:[]},created:function(){var t=this;this.GetAll=function(){r.GetAllDefinitions(n).done(function(n){n&&(t.Definitions=n.Data,n.Success===!1&&s.UI(n.Notification,!0))})};this.GetById=function(){};try{this.GetAll()}catch(i){s.UI("An error occurred loading connection definitions.",!0);throw i;}},methods:{EditConnection:function(n,t){if(n!==undefined&&t!==undefined)try{e.hasOwnProperty(t)?(f.SetTemplate(e[t]),f.Show()):u.GetDbConnectionEditTemplate(t).done(function(n){n&&(f.SetTemplate(n),f.Show(),e[t]=n)})}catch(i){s.UI("An error occurred loading the connection definition.",!0);throw i;}}}})}}(jQuery,Vue,app.Util,app.Services.ProjectConfigurationService,app.Services.ProjectService),function(n,t,i,r){var f="ProjectInfoApp",u;i.CheckDependencies(f,arguments);u=i.Notification();app.Initializers.ProjectInfoApp=function(n){console.debug(f+" init");var i=new t({el:"#projectInfoApp",data:{Id:n,Name:"",Description:"",SelectedStatus:"",StatusOptions:[],SaveSuccess:!1},created:function(){this.BindData=function(n){this.Name=n.Name;this.Description=n.Description;this.SelectedStatus=n.SelectedStatus;for(var t in n.StatusOptions)n.StatusOptions.hasOwnProperty(t)&&this.StatusOptions.push({Value:t,Text:n.StatusOptions[t]})};this.GetProjectInfo=function(n){var t=this;r.GetProjectInfo(n).done(function(n){if(n&&n.Success&&n.Data){var i=n.Data;t.BindData(i)}})};try{this.GetProjectInfo(n);this.SaveSuccess=!1}catch(t){u.UI("An error occurred loading the project",!0);throw t;}},methods:{submit:function(n){n.preventDefault();var t=this;try{t.SaveSuccess=!1;r.SaveProjectInfo({Id:this.Id,Name:this.Name,Description:this.Description,SelectedStatus:this.SelectedStatus}).done(function(n){n&&(n.Success?t.SaveSuccess=!0:(t.SaveSuccess=!1,u.UI(n.Notification,!0),t.BindData(n.Data)))})}catch(i){u.UI("An error occurred saving your changes",!0);t.SaveSuccess=!1;throw i;}}}})}}(jQuery,Vue,app.Util,app.Services.ProjectService),function(n,t,i,r){var u="ProjectConfigurationApp";i.CheckDependencies(u,arguments);app.Initializers.ProjectConfigurationApp=function(n){console.debug(u+" init");r(n)}}(jQuery,Vue,app.Util,app.Initializers.DbConnectionApp),function(n,t,i,r){var u="ProjectUploadSchemaApp";i.CheckDependencies(u,arguments);r.ProjectUploadSchemaApp=function(){console.debug(u+" init")}}(jQuery,Vue,app.Util,app.Initializers),function(n,t,i,r){var u="ProjectJobsApp";i.CheckDependencies(u,arguments);r.ProjectJobsApp=function(){console.debug(u+" init")}}(jQuery,Vue,app.Util,app.Initializers),function(n,t,i,r,u,f,e,o){var h="ManageTabApp",a="#contentTarget";i.CheckDependencies(h,arguments);var s=i.Config,v=i.Urls,c=i.Notification(),l={ProjectInfo:u,ProjectConfiguration:f,ProjectUploadSchema:e,ProjectJobs:o};n(function(){var u=new t({el:"#manageTabApp",data:{CurrentTab:null},created:function(){this.InitTab=function(t,u){r.GetTabTemplate(t).done(function(r){n(a).html(r);var f=l[t];f?f(u):i.Log(h,"Failed to init "+t+" tab app.")})};this.InitTabApp=function(n,t){var r=l[n];r?r(t):i.Log(h,"Failed to init "+n+" tab app.")};try{this.InitTab(s.CurrentTab,s.ProjectId);this.CurrentTab=s.CurrentTab}catch(t){c.UI("An error occured loading the page",!0);throw t;}},methods:{ChangeTab:function(t){try{var i=n(t.target).data("id");this.InitTab(i,s.ProjectId);this.CurrentTab=i}catch(r){c.UI("An error occured loading the tab",!0);throw r;}}}})})}(jQuery,Vue,app.Util,app.Services.ProjectService,app.Initializers.ProjectInfoApp,app.Initializers.ProjectConfigurationApp,app.Initializers.ProjectUploadSchemaApp,app.Initializers.ProjectJobsApp);