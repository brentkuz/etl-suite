(function(n,t,i){function r(){return n.getJSON("/ProjectData/GetProjects").done(function(n){return n})}t.CheckDependencies("ProjectService",arguments);i.ProjectService=app.Services.ProjectService||{GetProjects:r}})(jQuery,app.Util,app.Services),function(n,t,i,r){var u="ProjectListApp";i.CheckDependencies(u,arguments);var f=app.Util.Session,o=app.Util.Notification,e={Col:"Name",Dir:!0};n(function(){var n=new t({el:"#projectListApp",data:{Projects:[],SortCol:"",SortDir:null,SearchPhrase:""},created:function(){var t=this,n;this.updateSession=function(n){n?f.Reset():f.Set(u,{SortCol:this.SortCol,SortDir:this.SortDir,SearchPhrase:this.SearchPhrase})};this.GetProjects=function(){try{r.GetProjects().done(function(n){n&&(t.Projects=n.Data,n.Success==!1&&o.Alert(n.Notification))})}catch(n){i.Log(u,"Failed to load projects",n.message)}};n=f.Get(u);n!=null?(this.SortCol=n.SortCol,this.SortDir=n.SortDir,this.SearchPhrase=n.SearchPhrase):(this.SortCol=e.Col,this.SortDir=e.Dir);this.GetProjects()},methods:{Sort:function(n){this.SortDir=this.SortCol==n?!this.SortDir:!0}}})})}(jQuery,Vue,app.Util,app.Services.ProjectService);