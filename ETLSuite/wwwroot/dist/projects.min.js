(function(n,t,i){function f(){return n.getJSON(r.ProjectData_GetProjects).done(function(n){return n})}function e(t){return n.get(r.Project_GetTab+t,function(n){return n},"html")}function o(t){return n.getJSON(r.ProjectData_GetProjectInfo+t).done(function(n){return n})}var u,r;t.CheckDependencies("ProjectService",arguments);u=t.Config;r=t.Urls;i.ProjectService=app.Services.ProjectService||{GetProjects:f,GetTab:e,GetProjectInfo:o}})(jQuery,app.Util,app.Services),function(n,t,i,r){var u="ProjectListApp";i.CheckDependencies(u,arguments);var h=i.Config,s=i.Urls,f=i.Session,o={Col:"Name",Dir:!0},e=i.Notification();n(function(){var n=new t({el:"#projectListApp",data:{Projects:[],SortCol:"",SortDir:null,SearchPhrase:""},created:function(){var t=this,n;this.updateSession=function(n){n?f.Reset():f.Set(u,{SortCol:this.SortCol,SortDir:this.SortDir,SearchPhrase:this.SearchPhrase})};this.GetProjects=function(){try{r.GetProjects().done(function(n){n&&(t.Projects=n.Data,n.Success==!1&&e.UI(n.Notification,!0))})}catch(n){e.UI("An error occurred loading projects",!0);throw n;}};n=f.Get(u);n!=null?(this.SortCol=n.SortCol,this.SortDir=n.SortDir,this.SearchPhrase=n.SearchPhrase):(this.SortCol=o.Col,this.SortDir=o.Dir);this.GetProjects()},methods:{Sort:function(n){this.SortDir=this.SortCol==n?!this.SortDir:!0},CreateProject:function(){var n=e.Prompt("Please enter the name of your new project.");window.location.href=s.Project_Create+n}}})})}(jQuery,Vue,app.Util,app.Services.ProjectService);